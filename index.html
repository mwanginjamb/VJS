<html>
	<head>
		<title>
			VANILLA FILE UPLOAD
		</title>
	</head>
	<body>
		<form id="myForm">
			<fieldset>
				<legend>Uploading Form Data Using Js</legend>
				Content: <input type="text" id="content"><br>
				File: <input type="file" name="file[]" accept=".pdf,.jpg"><br>
				File: <input type="file" name="file[]" accept=".pdf,.jpg"><br>
				File: <input type="file" name="file[]" accept=".pdf,.jpg"><br>
				<input type="submit" value="submit" >
			</fieldset>
		</form>
	</body>

	<script>
		//Processing url
		const url = 'process.php';
		const form = document.querySelector('#myForm');

		//Listen to form submit event

		form.addEventListener('submit',e =>{
			e.preventDefault();

			const files = document.querySelector('[type=file]').files;
			const content = document.querySelector('#content').value;
			const formData = new FormData();


			for(let i=0; i < files.length;i++){
					let file = files[i];

					formData.append('pics[]',file);
			}

			
			formData.append('content', content);



			//Ajax
			fetch(url,{
				method: 'POST',
				body: formData
			}).then(response => {
				console.log(response);
			});

		});


	</script>
</html>